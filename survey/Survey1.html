{{ block title }}Survey{{ endblock }}
{{ block content }}

    <div class="mb-3 _formfield">
        
        <label class="col-form-label" for="id_age_no_answer">What is your age?</label>
        <div class="controls">
            <div id="id_age_no_answer" required="">
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="id_age_no_answer-0" name="age_no_answer" required="" value="False"> 
                    <label for="id_age_no_answer-0">
                        <input type="number" class="form-control" id="id_age" max="125" min="13" name="age" value="">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="id_age_no_answer-1" name="age_no_answer" required="" value="True"> 
                    <label for="id_age_no_answer-1">Prefer not to say</label>
                </div>
            </div>
        </div>

    </div>

    <!-- ===================gender select one and self describe if applicable================ -->

    <div class="mb-3 _formfield">
    
        <label class="col-form-label" for="id_gender">What is your gender?</label>
        <div class="controls">
            <select class="form-select" id="id_gender" name="gender" required="">
                <option value="">--------</option>
                <option value="Man">Man</option>
                <option value="Woman">Woman</option>
                <option value="Non-binary">Non-binary</option>
                <option value="Prefer to self-describe">Prefer to self-describe</option>
                <option value="Prefer not to answer">Prefer not to answer</option
            ></select>
        </div>
    
    </div>

    <div class="mb-3 _formfield" id="gender_custom_wrapper" style="display: none;">
    
        <label class="col-form-label" for="id_gender_self_describe">Please enter your gender below</label>
        <div class="controls">
            <input type="text" class="form-control" id="id_gender_self_describe" name="gender_self_describe" value="">
        </div>    
    
    </div>

    <!-- ==============================race select at least one box========================== -->

    <p>
        What race and/or ethnicity do you most identify with? Choose all that apply.
    </p>

    {{ formfield 'race_asian' }}

    {{ formfield 'race_black' }}

    {{ formfield 'race_white' }}

    {{ formfield 'race_native_am' }}

    {{ formfield 'race_multiracial' }}

    {{ formfield 'race_other' }}

    {{ formfield 'race_no_answer' }}

    <!-- ========================standard fields below============================= -->

    {{ formfield 'marital_status' }}

    {{ formfield 'birth_order' }}

    {{ formfield 'religious_affiliation' }}

    {{ formfield 'last_election' }}
    
    {{ next_button }}

    <script>
        $("#id_age").click(function() {
            $("#id_age_no_answer-0").prop("checked", true)
            $("#id_age").attr('required', true); 
        });

        $("#id_age_no_answer-1").click(function() {
            $("#id_age").val('')
            $("#id_age").attr('required', false); 
        });

        $('#id_gender').change(function() {
            if($('#id_gender').find(":selected").text() == 'Prefer to self-describe') {
                $('#gender_custom_wrapper').show()
                $('#id_gender_self_describe').attr('required', true); 
            } else {
                $('#id_gender_self_describe').val('')
                $('#gender_custom_wrapper').hide()
                $('#id_gender_self_describe').attr('required', false);
            }
        })
    </script>

{{ endblock }}

